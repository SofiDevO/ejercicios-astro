---
import Layout from "../../layout/Layout.astro";
const response = await  fetch('https://pokeapi.co/api/v2/pokemon?limit=151');
const {results} = await response.json();


const pokemons = results.map((pokemon:any)=>{
    const id = pokemon.url.split('/').filter(Boolean).pop();
    return {
        ...pokemon,
        id,
        image: `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${id}.png`
    }
})

---

<Layout>
    <section class="p-10 grid grid-cols-2  md:grid-cols-4  lg:grid-cols-6 gap-4 w-full items-cendter justify-center">
        {
            pokemons.map((pokemon:any)=>(
                <a href={`/pokemons/${pokemon.name}`} class="flex flex-col items-center group bg-slate-700 p-4 rounded-xl border border-salate-700">
                    <div class=" overflow-hidden ">

                    <img src={pokemon.image} alt={`imagen de ${pokemon.name}`} class="w-fit group-hover:scale-110 transition-all object-contain">
                    </div>
                    <p class="text-center mt-2 capitalize font-mono text-white text-xl">{pokemon.name}</p>
                </a>
            ))
        }
    </section>
</Layout>