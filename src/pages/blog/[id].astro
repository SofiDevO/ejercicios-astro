---
import { getCollection, render } from "astro:content";
import type { GetStaticPaths, InferGetStaticPropsType } from "astro";
import Layout from "../../layout/Layout.astro";
import {formatedDate} from "../../utils/formatedDate"
export const getStaticPaths = (async () => {
  const posts = await getCollection('blog');
  return posts.map(post =>({
    params:{id: post.id},
    props: {post},
  }))
}) satisfies GetStaticPaths;
type Props = InferGetStaticPropsType<typeof getStaticPaths>;
const { post } = Astro.props;
const {pubDate, title, description, image} = post.data;
const { Content} = await render(post)
---

<Layout title={title} description={description}>
  <section class="w-full max-w-1/2 mx-auto px-4 py-5 flex flex-col items-center justify-center ">
    <article class="max-w-2xl mx-auto p-4 shadow-2xl ">
      <div class="banner overflow-hidden w-full h-full max-h-100">
        <img src={image} alt={title} class="object-cover">
      </div>
      <h1 class="text-2xl font-semibold">{title}</h1>

      <time datetime={pubDate.toISOString()} class="text-sm text-violet-500">{formatedDate(pubDate)}</time>
      <Content/>
    </article>
  </section>
</Layout>
