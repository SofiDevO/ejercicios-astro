---
import { getCollection } from "astro:content";
import Layout from "../../layout/Layout.astro";
import BlogCard from "./_components/BlogCard.astro";

const allPosts = await getCollection("blog");

const sortedPosts = allPosts.sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);

console.log(sortedPosts);
---

<Layout title="Bienvenido a mi blog">
  <section class="flex flex-col w-full h-screen justify-center mx-auto max-w-[1100px] px-5" >
    <h1>Bienvenido a mi blog</h1>

    <div class="grid-container">
      {sortedPosts.map((post) => <BlogCard {post} />)}
    </div>
  </section>
</Layout>

<style>
  .grid-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1rem;
  }
</style>
